{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/runner/workspace/mobile/src/context/AuthContext.tsx\",\n  _this = this;\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { createContext, useState, useEffect } from 'react';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport * as SecureStore from \"../mocks/expo-secure-store\";\nimport { apiRequest } from \"../api/queryClient\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var AuthContext = createContext({});\nexport var AuthProvider = function AuthProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isLoading = _useState4[0],\n    setIsLoading = _useState4[1];\n  useEffect(function () {\n    var loadUser = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        try {\n          var storedUser = yield SecureStore.getItemAsync('user');\n          var storedToken = yield SecureStore.getItemAsync('token');\n          if (storedUser && storedToken) {\n            setUser(JSON.parse(storedUser));\n          }\n        } catch (error) {\n          console.error('Error loading auth state:', error);\n        } finally {\n          setIsLoading(false);\n        }\n      });\n      return function loadUser() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    loadUser();\n  }, []);\n  var signIn = function () {\n    var _ref3 = _asyncToGenerator(function* (username, password) {\n      setIsLoading(true);\n      try {\n        yield new Promise(function (resolve) {\n          return setTimeout(resolve, 1000);\n        });\n        if (password.length < 6) {\n          Alert.alert('Error', 'Invalid credentials');\n          return false;\n        }\n        var userData = {\n          id: 1,\n          username: username,\n          email: `${username}@example.com`,\n          name: username.charAt(0).toUpperCase() + username.slice(1)\n        };\n        yield SecureStore.setItemAsync('user', JSON.stringify(userData));\n        yield SecureStore.setItemAsync('token', 'mock-jwt-token');\n        setUser(userData);\n        return true;\n      } catch (error) {\n        console.error('Login error:', error);\n        Alert.alert('Error', 'Failed to sign in. Please try again.');\n        return false;\n      } finally {\n        setIsLoading(false);\n      }\n    });\n    return function signIn(_x, _x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var signUp = function () {\n    var _ref4 = _asyncToGenerator(function* (name, email, username, password) {\n      setIsLoading(true);\n      try {\n        yield new Promise(function (resolve) {\n          return setTimeout(resolve, 1000);\n        });\n        if (!name || !email || !username || password.length < 6) {\n          Alert.alert('Error', 'Please fill all fields. Password must be at least 6 characters.');\n          return false;\n        }\n        var userData = {\n          id: 1,\n          username: username,\n          email: email,\n          name: name\n        };\n        yield SecureStore.setItemAsync('user', JSON.stringify(userData));\n        yield SecureStore.setItemAsync('token', 'mock-jwt-token');\n        setUser(userData);\n        return true;\n      } catch (error) {\n        console.error('Registration error:', error);\n        Alert.alert('Error', 'Failed to create account. Please try again.');\n        return false;\n      } finally {\n        setIsLoading(false);\n      }\n    });\n    return function signUp(_x3, _x4, _x5, _x6) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var signOut = function () {\n    var _ref5 = _asyncToGenerator(function* () {\n      try {\n        yield SecureStore.deleteItemAsync('user');\n        yield SecureStore.deleteItemAsync('token');\n        setUser(null);\n      } catch (error) {\n        console.error('Logout error:', error);\n        Alert.alert('Error', 'Failed to sign out. Please try again.');\n      }\n    });\n    return function signOut() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var forgotPassword = function () {\n    var _ref6 = _asyncToGenerator(function* (email) {\n      setIsLoading(true);\n      try {\n        yield new Promise(function (resolve) {\n          return setTimeout(resolve, 1000);\n        });\n        Alert.alert('Success', 'If an account exists with that email, a password reset link has been sent.');\n        return true;\n      } catch (error) {\n        console.error('Forgot password error:', error);\n        Alert.alert('Error', 'Failed to process request. Please try again.');\n        return false;\n      } finally {\n        setIsLoading(false);\n      }\n    });\n    return function forgotPassword(_x7) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n  var resetPassword = function () {\n    var _ref7 = _asyncToGenerator(function* (token, newPassword) {\n      setIsLoading(true);\n      try {\n        yield new Promise(function (resolve) {\n          return setTimeout(resolve, 1000);\n        });\n        if (newPassword.length < 6) {\n          Alert.alert('Error', 'Password must be at least 6 characters.');\n          return false;\n        }\n        Alert.alert('Success', 'Your password has been reset successfully.');\n        return true;\n      } catch (error) {\n        console.error('Reset password error:', error);\n        Alert.alert('Error', 'Failed to reset password. Please try again.');\n        return false;\n      } finally {\n        setIsLoading(false);\n      }\n    });\n    return function resetPassword(_x8, _x9) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n  var updateProfile = function () {\n    var _ref8 = _asyncToGenerator(function* (data) {\n      setIsLoading(true);\n      try {\n        yield new Promise(function (resolve) {\n          return setTimeout(resolve, 1000);\n        });\n        if (!user) {\n          Alert.alert('Error', 'You must be logged in to update your profile.');\n          return false;\n        }\n        var updatedUser = _objectSpread(_objectSpread({}, user), data);\n        yield SecureStore.setItemAsync('user', JSON.stringify(updatedUser));\n        setUser(updatedUser);\n        Alert.alert('Success', 'Profile updated successfully.');\n        return true;\n      } catch (error) {\n        console.error('Update profile error:', error);\n        Alert.alert('Error', 'Failed to update profile. Please try again.');\n        return false;\n      } finally {\n        setIsLoading(false);\n      }\n    });\n    return function updateProfile(_x10) {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n  var changePassword = function () {\n    var _ref9 = _asyncToGenerator(function* (currentPassword, newPassword) {\n      setIsLoading(true);\n      try {\n        yield new Promise(function (resolve) {\n          return setTimeout(resolve, 1000);\n        });\n        if (newPassword.length < 6) {\n          Alert.alert('Error', 'New password must be at least 6 characters.');\n          return false;\n        }\n        Alert.alert('Success', 'Password changed successfully.');\n        return true;\n      } catch (error) {\n        console.error('Change password error:', error);\n        Alert.alert('Error', 'Failed to change password. Please try again.');\n        return false;\n      } finally {\n        setIsLoading(false);\n      }\n    });\n    return function changePassword(_x11, _x12) {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n  var refreshUser = function () {\n    var _ref10 = _asyncToGenerator(function* () {\n      try {\n        setIsLoading(true);\n        var response = yield apiRequest('GET', '/api/user');\n        if (!response.ok) {\n          if (response.status === 401) {\n            yield SecureStore.deleteItemAsync('user');\n            yield SecureStore.deleteItemAsync('token');\n            setUser(null);\n            return;\n          }\n          throw new Error('Failed to fetch user data');\n        }\n        var userData = yield response.json();\n        yield SecureStore.setItemAsync('user', JSON.stringify(userData));\n        setUser(userData);\n      } catch (error) {\n        console.error('Refresh user error:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    });\n    return function refreshUser() {\n      return _ref10.apply(this, arguments);\n    };\n  }();\n  return _jsxDEV(AuthContext.Provider, {\n    value: {\n      user: user,\n      isLoading: isLoading,\n      signIn: signIn,\n      signUp: signUp,\n      signOut: signOut,\n      forgotPassword: forgotPassword,\n      resetPassword: resetPassword,\n      updateProfile: updateProfile,\n      changePassword: changePassword,\n      refreshUser: refreshUser\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 271,\n    columnNumber: 5\n  }, _this);\n};","map":{"version":3,"names":["React","createContext","useState","useEffect","Alert","SecureStore","apiRequest","jsxDEV","_jsxDEV","AuthContext","AuthProvider","_ref","children","_useState","_useState2","_slicedToArray","user","setUser","_useState3","_useState4","isLoading","setIsLoading","loadUser","_ref2","_asyncToGenerator","storedUser","getItemAsync","storedToken","JSON","parse","error","console","apply","arguments","signIn","_ref3","username","password","Promise","resolve","setTimeout","length","alert","userData","id","email","name","charAt","toUpperCase","slice","setItemAsync","stringify","_x","_x2","signUp","_ref4","_x3","_x4","_x5","_x6","signOut","_ref5","deleteItemAsync","forgotPassword","_ref6","_x7","resetPassword","_ref7","token","newPassword","_x8","_x9","updateProfile","_ref8","data","updatedUser","_objectSpread","_x10","changePassword","_ref9","currentPassword","_x11","_x12","refreshUser","_ref10","response","ok","status","Error","json","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_this"],"sources":["/home/runner/workspace/mobile/src/context/AuthContext.tsx"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\nimport { Alert } from 'react-native';\nimport * as SecureStore from '../mocks/expo-secure-store';\nimport { apiRequest } from '../api/queryClient';\n\ninterface User {\n  id: number;\n  username: string;\n  email: string;\n  name: string;\n  organizations?: { id: number; name: string }[];\n}\n\ninterface AuthContextData {\n  user: User | null;\n  isLoading: boolean;\n  signIn: (username: string, password: string) => Promise<boolean>;\n  signUp: (name: string, email: string, username: string, password: string) => Promise<boolean>;\n  signOut: () => Promise<void>;\n  forgotPassword: (email: string) => Promise<boolean>;\n  resetPassword: (token: string, newPassword: string) => Promise<boolean>;\n  updateProfile: (data: Partial<User>) => Promise<boolean>;\n  changePassword: (currentPassword: string, newPassword: string) => Promise<boolean>;\n  refreshUser: () => Promise<void>;\n}\n\nexport const AuthContext = createContext<AuthContextData>({} as AuthContextData);\n\nexport const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [user, setUser] = useState<User | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    // Load user from secure storage on app start\n    const loadUser = async () => {\n      try {\n        const storedUser = await SecureStore.getItemAsync('user');\n        const storedToken = await SecureStore.getItemAsync('token');\n        \n        if (storedUser && storedToken) {\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth state:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadUser();\n  }, []);\n\n  const signIn = async (username: string, password: string): Promise<boolean> => {\n    setIsLoading(true);\n    try {\n      // In a real app, this would make an API call\n      // Simulate API call with a delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // For demo purposes, accept any username/password combo\n      // where password is at least 6 characters\n      if (password.length < 6) {\n        Alert.alert('Error', 'Invalid credentials');\n        return false;\n      }\n      \n      // Mock user data\n      const userData: User = {\n        id: 1,\n        username,\n        email: `${username}@example.com`,\n        name: username.charAt(0).toUpperCase() + username.slice(1),\n      };\n      \n      // Store in secure storage\n      await SecureStore.setItemAsync('user', JSON.stringify(userData));\n      await SecureStore.setItemAsync('token', 'mock-jwt-token');\n      \n      setUser(userData);\n      return true;\n    } catch (error) {\n      console.error('Login error:', error);\n      Alert.alert('Error', 'Failed to sign in. Please try again.');\n      return false;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const signUp = async (\n    name: string,\n    email: string,\n    username: string,\n    password: string\n  ): Promise<boolean> => {\n    setIsLoading(true);\n    try {\n      // In a real app, this would make an API call\n      // Simulate API call with a delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // Validate input\n      if (!name || !email || !username || password.length < 6) {\n        Alert.alert('Error', 'Please fill all fields. Password must be at least 6 characters.');\n        return false;\n      }\n      \n      // Mock user data\n      const userData: User = {\n        id: 1,\n        username,\n        email,\n        name,\n      };\n      \n      // Store in secure storage\n      await SecureStore.setItemAsync('user', JSON.stringify(userData));\n      await SecureStore.setItemAsync('token', 'mock-jwt-token');\n      \n      setUser(userData);\n      return true;\n    } catch (error) {\n      console.error('Registration error:', error);\n      Alert.alert('Error', 'Failed to create account. Please try again.');\n      return false;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const signOut = async (): Promise<void> => {\n    try {\n      // Remove from secure storage\n      await SecureStore.deleteItemAsync('user');\n      await SecureStore.deleteItemAsync('token');\n      \n      setUser(null);\n    } catch (error) {\n      console.error('Logout error:', error);\n      Alert.alert('Error', 'Failed to sign out. Please try again.');\n    }\n  };\n\n  const forgotPassword = async (email: string): Promise<boolean> => {\n    setIsLoading(true);\n    try {\n      // Simulate API call with a delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // Always return success for demo\n      Alert.alert('Success', 'If an account exists with that email, a password reset link has been sent.');\n      return true;\n    } catch (error) {\n      console.error('Forgot password error:', error);\n      Alert.alert('Error', 'Failed to process request. Please try again.');\n      return false;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const resetPassword = async (token: string, newPassword: string): Promise<boolean> => {\n    setIsLoading(true);\n    try {\n      // Simulate API call with a delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // Validate password\n      if (newPassword.length < 6) {\n        Alert.alert('Error', 'Password must be at least 6 characters.');\n        return false;\n      }\n      \n      // Always return success for demo\n      Alert.alert('Success', 'Your password has been reset successfully.');\n      return true;\n    } catch (error) {\n      console.error('Reset password error:', error);\n      Alert.alert('Error', 'Failed to reset password. Please try again.');\n      return false;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const updateProfile = async (data: Partial<User>): Promise<boolean> => {\n    setIsLoading(true);\n    try {\n      // Simulate API call with a delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      if (!user) {\n        Alert.alert('Error', 'You must be logged in to update your profile.');\n        return false;\n      }\n      \n      // Update user data\n      const updatedUser = { ...user, ...data };\n      \n      // Store in secure storage\n      await SecureStore.setItemAsync('user', JSON.stringify(updatedUser));\n      \n      setUser(updatedUser);\n      Alert.alert('Success', 'Profile updated successfully.');\n      return true;\n    } catch (error) {\n      console.error('Update profile error:', error);\n      Alert.alert('Error', 'Failed to update profile. Please try again.');\n      return false;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const changePassword = async (currentPassword: string, newPassword: string): Promise<boolean> => {\n    setIsLoading(true);\n    try {\n      // Simulate API call with a delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // Validate password\n      if (newPassword.length < 6) {\n        Alert.alert('Error', 'New password must be at least 6 characters.');\n        return false;\n      }\n      \n      // For demo, any currentPassword is accepted\n      Alert.alert('Success', 'Password changed successfully.');\n      return true;\n    } catch (error) {\n      console.error('Change password error:', error);\n      Alert.alert('Error', 'Failed to change password. Please try again.');\n      return false;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const refreshUser = async (): Promise<void> => {\n    try {\n      setIsLoading(true);\n      \n      // Fetch current user data from API\n      const response = await apiRequest('GET', '/api/user');\n      \n      if (!response.ok) {\n        // If unauthorized, clear local user data\n        if (response.status === 401) {\n          await SecureStore.deleteItemAsync('user');\n          await SecureStore.deleteItemAsync('token');\n          setUser(null);\n          return;\n        }\n        throw new Error('Failed to fetch user data');\n      }\n      \n      const userData = await response.json();\n      \n      // Store updated user in secure storage\n      await SecureStore.setItemAsync('user', JSON.stringify(userData));\n      \n      setUser(userData);\n    } catch (error) {\n      console.error('Refresh user error:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        isLoading,\n        signIn,\n        signUp,\n        signOut,\n        forgotPassword,\n        resetPassword,\n        updateProfile,\n        changePassword,\n        refreshUser,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}